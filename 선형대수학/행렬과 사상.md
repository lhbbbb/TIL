# 행렬과 사상

## 1. 우선적인 정의

### 행렬의 정의

행렬의 단순한 의미는 수를 직사각형 형태로 나열한 것이다.

공간상에서나 수식상에서는 **순수한 관계**를 나타내는 기법이다. **순수한 관계**가 무엇인지는 뒤에서 다루도록 한다.

### 행렬의 기본연산

#### 행렬의 덧셈과 정수배 연산

덧셈은 같은 크기의 행렬에 대해서만 수행된다. 정수배 연산은 벡터의 경우와 같다.

#### 행렬과 벡터의 곱연산

다음과 같은 문제가 있다고 하자.
$$
y_{돈} = a_{돈고}x_{고기} + a_{돈콩}x_{콩} + a_{돈쌀}x_{쌀} \\
y_{칼로리} = a_{칼고}x_{고기} + a_{칼콩}x_{콩} + a_{칼쌀}x_{쌀}
$$
이는 행렬로 다음과 같이 표현할 수 있다.
$$
\begin{pmatrix}
y_돈 \\
y_칼
\end{pmatrix} = \begin{pmatrix}
a_{돈고} & a_{돈콩} & a_{돈쌀} \\
a_{칼고} & a_{칼콩} & a_{칼쌀}
\end{pmatrix}  \begin{pmatrix}
x_{고기} \\
x_{콩} \\
x_{쌀}
\end{pmatrix}
$$
요인 $x$와 요소 $a$를 한눈에 보기좋게 볼 수 있다. 이것이 행렬과 벡터의 곱이다.

##### 행렬과 벡터 곱 연산시 주의사항

- 행렬과 벡터의 곱은 항상 벡터이다.
- 행렬에서의 열은 입력 차원의 수, 행은 출력 차원의 수를 나타낸다.

위 식이 나타내는 것은 할인이나 규모에 의한 변화(대량 구매로 인한 할인) 등이 없는 **순수한 관계**이다. 다르게 표현하면 앞서 정의한 ''**벡터의 덧셈과 정수배**를 제대로 유지했다''라고 표현된다.
$$
x+y=z,~~~~~~~~~~~~cx=y \\
Ax+Ay=Az,~~~cAx=Ay
$$
개인적인 사견으로는 공간상에서 축이 뒤틀렸을 뿐 모양은 그대로 유지한 거라고 표현할 수도 있지 않을까? 라고 생각해보았다.

## 2. 행렬은 사상이다

### 행렬이 가지는 의미

n차원 벡터 x에 m x n차원 벡터 A를 곱하면 m차원 벡터 $y=Ax$가 얻어진다. 즉, 행렬 $A$를 지정하면 벡터를 다른 벡터로 옮기는 **사상**이 결정된다. (사상이란 말이 잘 안 와닿는다면 매핑이라고 생각해보자.)

예를 들어 다음과 같은 행렬 $A$가 있다고 생각해보자.
$$
A = \begin{pmatrix}
1 & 3 \\
2 & 5
\end{pmatrix}, \vec{e_1} = \begin{pmatrix}
1 \\
0
\end{pmatrix}, \vec{e_2} = \begin{pmatrix}
0 \\
1
\end{pmatrix}
$$
여기서 기저 벡터 $\vec{e_1}$의 목적지는 평면공간상의 (1, 2), 기저 벡터 $\vec{e_2}$의 목적지는 (3,5)가 됨을 알 수 있다.

정리하자면 m x n 행렬 $A$는 n차원 공간을 m차원 공간으로 옮기는 사상을 나타낸다.

## 3. 행렬의 곱은 사상의 합성

행렬의 곱은 다음과 같은 계산 순서를 따르면 편하게 생각할 수 있다. 차원이 같은 두 개의 정방행렬 $A, B$가 있다고 한다면,

1. 오른쪽 행렬을 세로 단락으로 분해한다. 그러면 여러개의 종벡터가 생긴다.
2. 행렬과 벡터의 곱으로서 분해한 각각에 왼쪽 행렬을 곱한다.
3. 나온 개별 결과를 이어붙인다.

이렇게 나온 행렬 $BA$는 사상 A로 날린 후 사상 B로 날린 결과가 합성되어있다.

다음과 같은 식이 있다고 해보자
$$
z = By, ~~y = Ax \\
z = B(Ax)
$$
여기서 행렬곱 $BA$는 벡터 $x$를 $z$로 단번에 날려버리는 사상이라고 할 수 있다.

## 4. 행렬 연산의 성질

### 기본 성질

- $c(Ax) = (cA)x = A(cx), c는~상수$
- $(A+B)x = Ax + Bx$ 
- $A + B = B + A$
- $(A+B)+C = A+(B+C)$
- $(c+c')A = cA+c'A$
- $(cc')A=c(c'A)$
- $A(B+C) = AB+AC$
- $(A+B)C = AC+BC$
- $(cA)B = c(AB) = A(cB)$

### 벡터도 행렬의 일종

벡터를 n x 1 또는 1 x n 행렬로 간주할 수 있다.

## 5. 행렬의 거듭제곱은 사상의 반복

행렬의 거듭제곱은 숫자에서와 마찬가지로 다음과 같이 쓴다.
$$
AA = A^2, AAA = A^3, AA\cdots A=A^n
$$
$A^n$은 사상 $A$를 n번 반복한 것이다.

### 관련 공식

$$
\begin{align}
A^{\alpha+\beta} &= A^\alpha A^\beta\\
(A^\alpha)^\beta &= A^{(\alpha\beta)}\\
(A+B)^2 &= A^2 + AB+BA+B^2 \\
(A-B)^2 &= A^2+AB-BA+B^2 \\
(AB)^2 &= ABAB \\
A^0 &= I
\end{align}
$$

일반적으로 $AB\ne BA$이기 때문에 숫자와의 거듭제곱과는 다른 점을 명심해야한다.

## 6. 행렬의 종류

### 영행렬

모든 성분이 0인 행렬을 **영행렬**이라 하고, 기호 $O$로 나타낸다.

모든 것을 원점으로 이동시키는 사상이다.

### 단위 행렬

정방행렬에서 `\`방향의 대각선 위만 1이고, 다른 것은 모두 0인 행렬을 **단위행렬**이라 하고, 기호 $I$로 나타낸다.

사상으로서의 의미는 아무것도 하지 않는 사상이다.

### 대각 행렬

정방행렬의 `\`방향의 대각선상의 값을 **대각성분**이라 한다. 대각성분 이외의 값을 **비대각성분**이라 할 때, **비대각성분**이 모두 0인 행렬을 **대각행렬**이라 한다.

기호로는 $diag(a_1,a_2,a_3)$와 같이 나타낸다.

대각행렬이 나타내는 사상의 의미는 축에 따른 신축이고, 대각성분이 각 축의 신축에 대한 배율이 된다.

## 7. 역행렬 = 역사상

### 역행렬의 정의

정방행렬 $A$에 대해 그 역사상에 대응하는 행렬을 $A$의 **역행렬**이라 하고, 기호 $A^{-1}$이라 쓴다.
$$
Ax = y \\
x = A^{-1}y
$$
대략 '이동점 $y$를 갖고 원래의 점 $x$를 구하다'라는 사상에 대응하는 행렬이 역행렬이다.

역행렬은 있을 수도, 없을 수도 있다. 직관적으로 말하면, 납작하게 눌리는 경우는 역행렬이 존재하지 않는다. 서로 다른 두 점 $x, x'$이 $A$를 적용하면 같은 점으로 이동한다는 말이 되기 때문이다.

### 역행렬의 성질

역행렬의 기본적인 성질에는 다음과 같은 것들이 있다.

- $AA^{-1} = I$
- $(A^{-1})^{-1}=A$
- $(AB)^{-1}=B^{-1}A^{-1}$
- $(A^k)^{-1}=(A^{-1})^k$

대각행렬의 경우 역행렬의 형태는 다음과 같다.
$$
A = diag(a_1,a_2,a_3),~~A^{-1}=diag(\frac{1}{a_1},\frac{1}{a_2},\frac{1}{a_3})
$$
행렬 $A$가 나타내는 사상이 각 축을 대각성분만큼 신축시키는 것이기 때문에, $A^{-1}$은 각 축을 대각성분의 역수만큼 신축시키면 된다.