## 문제

백준의 [퇴사](https://www.acmicpc.net/problem/14501) 문제를 변형하였다. 네이버 부스트캠프 코테를 봤을 때 비슷한 유형으로 문제가 출제되었으니 참고하여 문제를 풀어본다.

상담원으로 일하고 있는 백준이는 퇴사를 하려고 한다.

상담을 마지막으로 끝내는 날 퇴사를 하기 위해서, 남은 시간동안 최대한 많은 상담을 하려고 한다.

백준이는 비서에게 최대한 많은 상담을 잡으라고 부탁을 했고, 비서는 하루에 하나씩 서로 다른 사람의 상담을 잡아놓았다.

각각의 상담은 상담을 시작일자, 상담을 끝내는데 걸리는 일자와 상담을 했을 때 받을 수 있는 금액 Pi로 이루어져 있다.

상담을 끝낸 일자에는, 바로 상담을 시작할 수 있다.

N = 7인 경우에 다음과 같은 상담 일정표를 보자.

|      | 1일  | 2일  | 3일  | 4일  | 5일  | 6일  | 7일  |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| Ti   | 4    | 7    | 4    | 5    | 7    | 10   | 9    |
| Pi   | 10   | 20   | 10   | 20   | 15   | 40   | 200  |

1일에 잡혀있는 상담은 4일에 끝나며, 상담했을 때 받을 수 있는 금액은 10이다. 5일에 잡혀있는 상담은 7일에 끝나며, 받을 수 있는 금액은 15이다.

상담을 하는데 필요한 기간은 1일보다 클 수 있기 때문에, 모든 상담을 할 수는 없다. 예를 들어서 1일에 상담을 하게 되면, 2일, 3일에 있는 상담은 할 수 없게 된다. 2일에 있는 상담을 하게 되면, 3, 4, 5, 6일에 잡혀있는 상담은 할 수 없다.

상담을 끝냈을 때, 백준이가 얻을 수 있는 최대 수익을 구하는 프로그램을 작성하시오.

## 입력

[시작일, 종료일, 상담비용] 이 담긴 배열이 주어진다.

```python
parttimes = [[1, 4, 10], [2, 7, 20], [3, 4, 10], [4, 5, 20], [5, 7, 15], [6, 10, 40], [7, 9, 200]]
```

## 문제해결

백준의 퇴사와는 다르게 걸리는 시간이 아니라 종료되는 시간이 주어지고, 특정한 일자에 상담이 끝내는게 아니라 마지막 상담이 끝나는 날짜에 최대수익을 계산해야 한다.

먼저 마지막 상담이 끝나는 날짜를 배열에서 먼저 구해야 한다. 또한 백준 퇴사문제와는 달리 일을 시작하는 일자가 연속적으로 주어지지 않을 수도 있기 때문에 따로 딕셔너리 자료형에 정보를 저장한다.

나머지 풀이는 퇴사 문제를 풀 때와 같다.

```python
# parttimes = [[1, 4, 10], [2, 7, 20], [3, 4, 10], [4, 5, 20], [5, 7, 15], [6, 10, 40], [7, 9, 200]]
parttimes = [[1, 4, 10], [2, 7, 20], [3, 4, 10], [4, 5, 20], [5, 7, 15], [6, 10, 40]]


chk = {}
for ele in parttimes:
    s, e, cost = ele
    chk[s] = [e, cost]

end = max(parttimes, key=lambda x: x[1])[1]

# dp[i] = i번째 날 일을 하면 받을 수 있는 최대금액
dp = [0] * (end + 2)

# 1. 하향식
for i in range(end, -1, -1):
    if chk.get(i):
        e, cost = chk[i]
        dp[i] = max(dp[i + 1], dp[e] + cost)
    else:
        dp[i] = dp[i + 1]

print(dp)

# 2. 상향식
# dp[i] = i번째 날 받을 수 있는 최대금액
dp = [0] * (end + 2)

for i in range(1, end+2):
    dp[i] = max(dp[i], dp[i - 1])
    if chk.get(i):
        e, cost = chk[i]
        dp[e] = max(dp[e], dp[i] + cost)

print(dp)
```